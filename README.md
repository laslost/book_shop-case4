# Книжный магазин

Полнофункциональное веб-приложение книжного магазина с системой аутентификации, управлением книгами и заказами.

## Функциональность

- ✅ Регистрация и вход пользователей
- ✅ Просмотр каталога книг с фильтрацией
- ✅ Покупка и аренда книг
- ✅ Административная панель для управления книгами
- ✅ Просмотр истории заказов
- ✅ Система ролей (пользователь/администратор)

## Технологии

### Frontend
- React 18
- TypeScript
- Vite
- Tailwind CSS
- React Router DOM
- Axios

### Backend
- Node.js
- Express
- PostgreSQL
- JWT аутентификация
- bcrypt для хеширования паролей

## Установка и запуск

### 1. Настройка базы данных

1. Установите PostgreSQL
2. Создайте базу данных и выполните SQL скрипт:
```sql
-- Создайте базу данных
CREATE DATABASE bookstore;

-- Выполните скрипт из файла database.sql
```

### 2. Настройка сервера

1. Перейдите в папку сервера:
```bash
cd server
```

2. Установите зависимости:
```bash
npm install
```

3. Создайте файл .env на основе env.example:
```bash
cp env.example .env
```

4. Настройте переменные окружения в .env файле

5. Запустите сервер:
```bash
npm run dev
```

Сервер будет доступен на http://localhost:5000

### 3. Настройка клиента

1. В корневой папке проекта установите зависимости:
```bash
npm install
```

2. Запустите клиент:
```bash
npm run dev
```

Клиент будет доступен на http://localhost:3000

## Структура проекта

```
├── src/
│   ├── components/
│   │   ├── layout/
│   │   │   └── Layout.tsx
│   │   └── ui/
│   │       ├── button.tsx
│   │       ├── input.tsx
│   │       ├── card.tsx
│   │       └── dialog.tsx
│   ├── contexts/
│   │   └── AuthContext.tsx
│   ├── pages/
│   │   ├── LoginPage.tsx
│   │   ├── RegisterPage.tsx
│   │   ├── BookStorePage.tsx
│   │   ├── AdminPage.tsx
│   │   └── OrdersPage.tsx
│   ├── lib/
│   │   ├── api.ts
│   │   └── utils.ts
│   ├── types/
│   │   └── index.ts
│   ├── App.tsx
│   └── main.tsx
├── server/
│   ├── index.js
│   ├── package.json
│   └── env.example
├── database.sql
└── package.json
```

## API Endpoints

### Аутентификация
- `POST /api/auth/register` - Регистрация
- `POST /api/auth/login` - Вход
- `GET /api/auth/me` - Получение данных пользователя

### Книги
- `GET /api/books` - Получение всех книг
- `POST /api/books` - Добавление книги (только админ)
- `PUT /api/books/:id` - Обновление книги (только админ)
- `DELETE /api/books/:id` - Удаление книги (только админ)

### Заказы
- `POST /api/orders` - Создание заказа
- `GET /api/orders` - Получение заказов пользователя

## Особенности реализации

1. **Безопасность**: Пароли хешируются с помощью bcrypt
2. **Аутентификация**: JWT токены для сессий
3. **Валидация**: Проверка данных на сервере
4. **UI/UX**: Современный дизайн с Tailwind CSS
5. **Типизация**: Полная типизация TypeScript
6. **Компонентная архитектура**: Переиспользуемые компоненты

## Тестовые данные

В базе данных уже созданы тестовые пользователи:
- Администратор: admin@bookstore.com (любой пароль)
- Пользователь: user@bookstore.com (любой пароль)

## Лицензия

MIT